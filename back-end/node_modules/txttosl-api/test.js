const txttosl = require('./index.js');

async function simpleTest(lang) {
  return txttosl.translate('Hello world!', lang).then((url) => {
    console.log('---\nSimple test complete', lang, url, '\n---');

    return true;
  }).catch((err) => {
    return err;
  });
}

async function progressTest(lang, prefix) {
  var progressCallback = function (feedback) { console.log(`Progress Test - ${lang} - ${feedback}`); };

  return txttosl.translate('Hello world!', lang, {}, progressCallback, prefix).then((url) => {
    console.log('---\nProgress test complete', lang, url, '\n---');
  }).catch((err) => {
    return err;
  });
}

async function test() {
  await simpleTest('BSL');
  await progressTest('BSL');
  await progressTest('BSL', 'neat-prefix');
}

(async () => {
  await test();
})();